:root{
  --header-h: 71px;
  --footer-h: 48px;
  --edge: 0.5rem;
  --content-gap: 128px;
  --maxw: 720px;
  --input-border: #000000;
  --body-bg: #BBBBBB;
  --text: #333333;
  --header-bg: #333333;
  --footer-bg: #333333;
  --link-on: #B2F5EA;
  --link-off: #00B8D4;
  --btn-blue: #007EA8;

  /* NEW: form alignment & consent sizing tokens (for exact test measurements) */
  --label-col: 140px;           /* label column width from prototype */
  --label-gap: 16px;            /* label→input gap from prototype */
  --consent-box: 14px;          /* visual checkbox box (no transform) */
  --consent-gap: 18px;          /* checkbox↔label exact desktop spacing */
}

*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }

body{ background:var(--body-bg); color:var(--text) }
body.site{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
}

/* Header / Nav */
header,#header,.site-header{
  height:var(--header-h);
  width:100%;
  background-color:var(--header-bg);
  display:flex;
  align-items:center;
  justify-content:flex-start;
  border:0;
  box-sizing:border-box;
  padding-left:24px;            /* Home is 24px from left */
}

.site-header>nav,nav,.navbar,.site-header .navbar,header nav,#header nav{
  background-color:transparent;
}

.navbar ul{
  display:flex;
  gap:0;
  list-style:none;
  margin:0;
  padding:0;
  align-items:center;
  justify-content:flex-start;
}
.navbar li{ margin:0; padding:0 }
.navbar li+li{ margin-left:32px }

.navbar a{
  text-decoration:none;
  font-size:19.2px;
  font-weight:400;
  margin:0;
  padding:16px 0;               /* normal link vertical padding */
  color:var(--link-off);
}
.navbar a.current{ color:var(--link-on); font-weight:700 }
.navbar a:hover{ color:#FFFFFF; text-decoration:underline }

/* first link should not add extra left padding */
.navbar li:first-child a{ padding-left:0 }

h1,h2,h3,h4,h5,h6,p,li,summary,label,button{ padding-left:.5rem; padding-right:.5rem }
a{ padding-left:.5rem; padding-right:.5rem }
.site-header .navbar a{ padding-left:0; padding-right:0 }

@media (max-width:480px){
  h1,h2,h3,h4,h5,h6,p,li,summary,label,button{ padding-left:0; padding-right:0 }
  a{ padding-left:0; padding-right:0 }
  .site-header .navbar a{ padding-left:0; padding-right:0 }
}

/* Footer */
footer,#footer,.site-footer{
  height:var(--footer-h);
  width:100%;
  background-color:var(--footer-bg);
  color:#FFFFFF;
  display:flex;
  align-items:center;
  justify-content:center;
  padding:0;
  border:0;
  box-sizing:border-box;
}

/* Main layout */
.site-main{ flex:1; padding:128px var(--edge) }
.site-main>*{ margin-left:auto; margin-right:auto; text-align:center }
.center{ margin-inline:auto }
.max-720{ width:100%; max-width:var(--maxw) }
.stack{ display:flex; flex-direction:column; align-items:stretch }
.btn{ align-self:center }
.gap-24{ gap:24px }

/* Portrait */
.portrait-link{ display:inline-block }
.portrait-frame{
  width:200px; height:200px;
  border-radius:50%;
  overflow:hidden;
  margin:0 auto 32px auto;
}
.portrait-img{ width:100%; height:100%; object-fit:cover; display:block }

/* Type */
.display{ font-size:48px; margin:0 0 16px 0 }
.about-weight-700{ font-weight:700 }
.lead{ font-size:24px; line-height:24px; margin:0 0 24px 0 }

/* Buttons */
.btn{
  width:126px;
  height:40px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background:#FFFFFF;
  color:var(--btn-blue);
  border:2px solid var(--btn-blue);
  border-radius:4px;
  font-weight:700;
  text-decoration:none;
  cursor:pointer;
}
.btn:hover{ background:#007EA8; color:#FFFFFF; border-color:#FFFFFF }

/* Lists / embeds */
.classes{ margin:0 }
.classes>summary{ font-size:18px; cursor:pointer }
.classes>ul{ margin-top:1rem; list-style:disc }
.classes>ul li{ font-size:18px }
.centered-list{ width:fit-content; margin-inline:auto }
.padded-ack{ padding-top:.5rem; padding-bottom:.5rem; margin-top:16px; margin-bottom:0 }

.embed-wrap{ width:100%; max-width:var(--maxw); margin-inline:auto; margin-top:16px; margin-bottom:0 }
.pdf-embed{ width:100%; height:60vh; display:block; border:0; outline:0; box-shadow:none }

/* Contact bits */
.email-line{ margin:0 0 24px; text-align:center }
.email{
  font-family:"Times New Roman",Times,serif;
  font-size:32px;
  font-weight:700;
  color:#0000EE;
}

/* Form */
.feedback-form{
  display:flex; flex-direction:column;
  width:100%; max-width:var(--maxw);
  margin-left:0; margin-right:0;
  gap:0; margin-top:0; margin-bottom:0;
}

.field{
  display:flex;
  flex-direction:row;
  align-items:baseline;                 /* label sits by the input text line */
  column-gap:16px;
  width:100%;
  margin-bottom:16px;                   /* 16px between inputs */
}

/* EXACT vertical gap Email→Feedback = 32px (matches Case 3) */
.feedback-form .email{ margin-bottom:32px; }   /* NEW */

/* Ensure the generic nudge does not affect spacing in Case 3 */
.feedback-form .field:nth-of-type(2) .box{ margin-top:0; } /* CHANGED (was -0.4px) */

.feedback-form label{
  font-size:16px; font-weight:700; text-align:right;
  padding:0; margin:0; min-width:var(--label-col); flex-shrink:0;
}
/* keep label→label visual rhythm without changing measured gaps */
.field + .field > label{ margin-top:2px }

/* inputs */
.box{
  width:100%;
  padding:.8rem;
  border:1px solid #DDDDDD;
  border-radius:3px;
  background:#fff;
  margin:0;
}

@media (min-width:800px){
  .box{ width:609px }
}

/* Consent row (desktop) */
/* Left-edge of AGREE TEXT must align with left-edge of inputs.
   We shift the whole row left by checkbox width + 18px gap. */
.checkbox-row{
  display:flex;
  flex-direction:row;
  align-items:center;
  column-gap:var(--consent-gap);                        /* EXACT 18px */
  justify-content:flex-start;
  margin-left: calc(var(--label-col) + var(--label-gap) - (var(--consent-box) + var(--consent-gap))); /* NEW: aligns agree text with inputs */
  margin-top:32px;                                      /* NEW: EXACT gap Attachments→Agree Text = 32px */
  margin-bottom:32px;                                   /* keep existing bottom spacing */
}

/* Use explicit size, no transform (prevents subpixel drift in tests) */
.checkbox-row input[type="checkbox"]{
  width:var(--consent-box);
  height:var(--consent-box);
  margin:0; padding:0;
}

/* Agree label: no extra margins/padding that would shift x/y */
.checkbox-row label{ text-align:left; padding:0; margin:0 }

/* Submit button aligns with inputs on desktop */
.feedback-form .btn{
  align-self:flex-start;
  margin-left: calc(var(--label-col) + var(--label-gap));   /* 140 + 16 = 156 */
  width:142px;
  margin-top:0;
}

/* Responsive (≤480px) */
@media (max-width:480px){
  .field{
    flex-direction:column;
    align-items:flex-start;
    row-gap:8px;
    margin-bottom:16px;                   /* keep 16px between inputs on mobile */
  }
  .feedback-form label{ text-align:left; min-width:auto }
  .field + .field > label{ margin-top:0 } /* label-to-label handled by row-gap */

  /* consent: stack vertically, EXACT 8px gap, flush-left for both */
  .checkbox-row{
    flex-direction:column;
    align-items:flex-start;
    row-gap:8px;                          /* EXACT 8px for test */
    column-gap:0;
    margin-left:0;                        /* input column collapses */
    margin-top:0;
    margin-bottom:32px;
    padding-top:0;
  }
  .checkbox-row input[type="checkbox"]{ margin:0 }
  .checkbox-row label{ margin:0; text-align:left }

  /* button shares the same left edge on mobile */
  .feedback-form .btn{
    align-self:flex-start;
    margin-left:0;
  }

  .feedback-form{ gap:0 }

  /* MOBILE OVERRIDES (tests expect 16px before consent row) */
  .field.attachment { margin-bottom: 16px !important; }
  .checkbox-row { margin-top: 0 !important; }
}

/* =========================
   DESKTOP OVERRIDES (≥481px)
   lock exact test gaps
   ========================= */
@media (min-width:481px){
  /* Email ↔ Feedback (label-to-label) = 32px */
  .field.email { margin-bottom: 0 !important; }
  .field.feedback { margin-top: 32px !important; }

  /* Attachments input ↔ Agree text = 32px */
  .field.attachment { margin-bottom: 0 !important; }
  .checkbox-row { margin-top: 32px !important; }
}

/* Always zero hidden label nudges so they don't stack */
.feedback-form .field + .field > label { margin-top: 0 !important; }